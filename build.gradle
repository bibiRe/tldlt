import org.gradle.plugins.ide.eclipse.model.Facet

apply plugin: 'java'
apply plugin: 'war'
apply plugin: 'eclipse-wtp'

sourceCompatibility = 1.7   // jdk version
webAppDirName = 'webapp'    // webapp dir
sourceSets.main.java.srcDir 'src/main/java'   // source java dir

// maven
repositories {  
    mavenLocal() // local
    mavenCentral() // central
    // maven { url 'http://maven.oschina.net/content/groups/public/' } // other maven repository
}	

// depend
dependencies {
	compile fileTree(dir: 'webapp/WEB-INF/lib', include: '*.jar')
	compile fileTree(dir: 'webapp/WEB-INF/lib/jetty', include: '*.jar')
    providedCompile 'javax.servlet:servlet-api:2.5' // ������
    providedRuntime 'javax.servlet:jstl:1.2'    // ����ʱ
    compile 'joda-time:joda-time:2.8.1', 'com.google.guava:guava:18.0', 'org.slf4j:slf4j-api:1.7.12', 'ch.qos.logback:logback-core:1.1.3', 'ch.qos.logback:logback-classic:1.1.3', 'org.slf4j:jcl-over-slf4j:1.7.12', 'org.slf4j:log4j-over-slf4j:1.7.12'
    compile 'org.jbehave.web:jbehave-web:3.6-beta-2', 'org.jbehave.site:jbehave-site:3.3'     
	testCompile 'junit:junit:4.12', 'org.assertj:assertj-core:3.0.0', 'com.natpryce:make-it-easy:4.0.0', 'com.github.dreamhead:moco-core:0.10.1', 'org.jbehave:jbehave-core:4.0.1', 'org.seleniumhq.selenium:selenium-java:2.47.1'	
}

// eclipse Project Facets
eclipse {
    wtp {
        facet {
            facet name: 'jst.web', type: Facet.FacetType.fixed
            facet name: 'wst.jsdt.web', type: Facet.FacetType.fixed
            facet name: 'jst.java', type: Facet.FacetType.fixed
            facet name: 'jst.web', version: '2.5'
            facet name: 'jst.java', version: '1.7'
            // facet name: 'wst.jsdt.web', version: '1.0'
        }
    }
}